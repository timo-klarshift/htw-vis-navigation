package vis

import vis.lucene.Searcher
import vis.lucene.SimpleCallback

class ImageController {

    def index() {
		def searcher = new Searcher(new File("../vis-importer/index/index"))
		def sb = new SimpleCallback(0.1)
		searcher.search(params.q ?: 'flower', params.max ?: 20, sb)		
		[results: sb.getResults().collect{[url: it.url]}]
	}
}
