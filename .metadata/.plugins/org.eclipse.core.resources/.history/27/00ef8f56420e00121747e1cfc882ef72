package vis.config

public class Arguments {
	Map arguments = [:]
	
	public Arguments(String[] args, Map defaults = [:]){
		def argList = []
		for(String a : args){
			argList << a
		}
		init(argList)
	}
	
	public Arguments(String args, Map defaults = [:]){
		init(args.split(" ").toList())
	}
	
	public void init(List argumentList){
		String lastCmd
		for(int a=0; a<argumentList.size(); a++){
			String ca = argumentList[a];
			if(ca.startsWith("-")){
				String cmd = ca.substring(1)
				arguments[cmd] = true
				lastCmd = cmd;
			}else if(lastCmd){
				arguments[lastCmd] = ca
			}
		}
	}
	
	public static void main(args){		
		def cmd = new Arguments("-p 5 -a hallo4 -o -7")
		println cmd.arguments
	}
	

}
