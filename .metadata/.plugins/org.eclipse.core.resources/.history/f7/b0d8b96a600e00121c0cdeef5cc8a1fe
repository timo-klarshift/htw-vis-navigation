package vis.lucene;

import java.io.File;

import logging.VisLog;

import vis.config.VisConfig;

public class SearchTool {
	private static void search(Searcher s, String q, int max, SearchCallback sb){
		s.search(q, max, sb);
		
	}
	
	private static void mlt(Searcher s, String q, int max, SearchCallback sb){
		s.moreLike(q, max, sb);		
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		VisConfig.load()
		VisLog.initLogging();
		
		// get index file
		File indexPath = new File("index");
		String q = "36152523";
		int max = 200;
		
		if(args.length > 0){
			// TODO: read params
		}
		
		// create searcher
		Searcher s = new Searcher(indexPath);		
		SearchCallback sb = new SearchCallback() {

			@Override
			public boolean onResult(SearchResult r) {
				System.out.println("\t" + r);
				return true;
			}
		};
		
		// do search (TODO: or mlt)
		search(s, q, max, sb);
			
		// cleanup
		s.close();
	}

}
